angular.module("toastr",[]).directive("toast",["$compile","$interval","toastr",function(t,s,e){return{replace:!0,templateUrl:"templates/toastr/toastr.html",link:function(n,o){function i(t){return s(function(){e.remove(n.toastId)},t,1)}var a;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.options.closeHtml){var l=angular.element(n.options.closeHtml);l.addClass("toast-close-button"),l.attr("ng-click","close()"),t(l)(n),o.prepend(l)}n.init=function(){n.options.timeOut&&(a=i(n.options.timeOut))},o.on("mouseenter",function(){a&&s.cancel(a)}),n.tapToast=function(){n.options.tapToDismiss&&n.close()},n.close=function(){e.remove(n.toastId)},o.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(a=i(n.options.extendedTimeOut))})}}}]).constant("toastrConfig",{allowHtml:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},messageClass:"toast-message",newestOnTop:!0,positionClass:"toast-top-right",tapToDismiss:!0,timeOut:5e3,titleClass:"toast-title",toastClass:"toast"}).factory("toastr",["$animate","$compile","$document","$rootScope","$sce","toastrConfig","$q",function(t,s,e,n,o,i,a){function l(t){if(t)v(t.toastId);else for(var s=0;s<w.length;s++)v(w[s].toastId)}function r(t,s,e){var n=p().iconClasses.error;return d(n,t,s,e)}function c(t,s,e){var n=p().iconClasses.info;return d(n,t,s,e)}function u(t,s,e){var n=p().iconClasses.success;return d(n,t,s,e)}function m(t,s,e){var n=p().iconClasses.warning;return d(n,t,s,e)}function d(t,s,e,n){return"object"==typeof e&&(n=e,e=null),g({iconClass:t,message:s,optionsOverride:n,title:e})}function p(){return angular.extend({},i)}function f(s){if(C)return O.promise;C=angular.element("<div></div>"),C.attr("id",s.containerId),C.addClass(s.positionClass),C.css({"pointer-events":"auto"});var n=e.find("body").eq(0);return t.enter(C,n).then(function(){O.resolve()}),O.promise}function g(e){function i(t,s,e){e.allowHtml?(t.scope.allowHtml=!0,t.scope.title=o.trustAsHtml(s.title),t.scope.message=o.trustAsHtml(s.message)):(t.scope.title=s.title,t.scope.message=s.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.options={extendedTimeOut:e.extendedTimeOut,messageClass:e.messageClass,tapToDismiss:e.tapToDismiss,timeOut:e.timeOut,titleClass:e.titleClass,toastClass:e.toastClass},e.closeButton&&(t.scope.options.closeHtml=e.closeHtml)}function a(t){var e=angular.element("<div toast></div>");return s(e)(t)}var l=p(),r={toastId:h++,scope:n.$new()};return r.iconClass=e.iconClass,e.optionsOverride&&(l=angular.extend(l,e.optionsOverride),r.iconClass=e.optionsOverride.iconClass||r.iconClass),i(r,e,l),r.el=a(r.scope),w.push(r),f(l).then(function(){l.newestOnTop?t.enter(r.el,C).then(function(){r.scope.init()}):t.enter(r.el,C,C[0].lastChild).then(function(){r.scope.init()})}),r}function v(s){function e(t){for(var s=0;s<w.length;s++)if(w[s].toastId===t)return w[s]}var n=e(s);n&&t.leave(n.el).then(function(){n.scope.$destroy(),C&&0===C.children().length&&(w=[],C.remove(),C=null,O=a.defer())})}var C,h=0,w=[],O=a.defer(),T={clear:l,error:r,info:c,remove:v,success:u,warning:m};return T}]),angular.module("toastr").run(["$templateCache",function(t){t.put("templates/toastr/toastr.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n</div>')}]);